<!DOCTYPE html>
<html>
<head>
    <title>Who's there?</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <script>{{ template "office.js"}}</script>
    <style>{{ template "office.css" }}</style>
</head>

<body>
    {{ $logged := .LoggedIn }}
    <h1>Who's there?</h1>
    <div id="team">
        {{ range $key, $value :=  .Team }}
        <div class="user">
            <input id="{{ $key }}" type="checkbox" {{ if $value }}checked{{ end }} {{ if $logged }}onchange="updateUser(event)"{{ else }}disabled{{ end }}>
            <label for="{{ $key }}" class="circle"></label>
            <label for="{{ $key }}">@{{ $key }}</label>
        </div>
        {{ end }}
    </div>

    {{ if $logged }}
        <input type="text" placeholder="What's your nick?" onkeyup="updateUser(event)">
        <a href="/logout"><button id="logout" >Logout</button></a>
    {{ else }}
        <form id="login" onsubmit="letmein(event)">
            <input type="password" placeholder="The password...">
            <input type="submit" value="Login">
        </form>
    {{ end }}
</body>
</html>
